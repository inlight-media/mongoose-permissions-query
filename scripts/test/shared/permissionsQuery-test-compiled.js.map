{"version":3,"sources":["permissionsQuery-test.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,YAAY,EAAE;AAC3C,OAAK,EAAE,IAAI;CACZ,CAAC,CAAC;;AAEH,SAAS,sBAAsB,CAAC,GAAG,EAAE;AAAE,SAAO,GAAG,IAAI,GAAG,CAAC,UAAU,GAAG,GAAG,GAAG,EAAE,SAAS,EAAE,GAAG,EAAE,CAAC;CAAE;;AAEjG,IAAI,OAAO,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAEhC,IAAI,QAAQ,GAAG,sBAAsB,CAAC,OAAO,CAAC,CAAC;;AAE/C,IAAI,OAAO,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAEhC,IAAI,QAAQ,GAAG,sBAAsB,CAAC,OAAO,CAAC,CAAC;;AAE/C,IAAI,SAAS,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;;AAEpC,IAAI,UAAU,GAAG,sBAAsB,CAAC,SAAS,CAAC,CAAC;;AAEnD,IAAI,uBAAuB,GAAG,OAAO,CAAC,+BAA+B,CAAC,CAAC;;AAEvE,IAAI,wBAAwB,GAAG,sBAAsB,CAAC,uBAAuB,CAAC,CAAC;;AAE/E,OAAO,CAAC,SAAS,CAAC,GAAG;AACnB,4BAA0B,EAAE,0BAA0B;AACtD,sBAAoB,EAAE,oBAAoB;CAC3C,CAAC;;AAEF,SAAS,0BAA0B,CAAC,OAAO,EAAE;AAC3C,MAAI,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;AAC1B,IAAE,CAAC,2CAA2C,EAAE,UAAU,IAAI,EAAE;AAC9D,SAAK,CAAC,gBAAgB,CAAC,MAAM,CAAC,MAAM,CAAC;AACrC,QAAI,EAAE,CAAC;GACR,CAAC,CAAC;CACJ;;AAED,SAAS,oBAAoB,CAAC,OAAO,EAAE;AACrC,MAAI,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;AAC1B,MAAI,kBAAkB,GAAG;AACvB,UAAM,EAAE,EAAE;AACV,UAAM,EAAE,CAAC,GAAG,CAAC;GACd,CAAC;AACF,MAAI,KAAK,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;;AAEzB,IAAE,CAAC,uBAAuB,EAAE,UAAU,IAAI,EAAE;AAC1C,QAAI,KAAK,GAAG,IAAI,CAAC;AACjB,SAAK,CAAC,gBAAgB,CAAC,KAAK,EAAE,kBAAkB,EAAE,UAAU,GAAG,EAAE;AAC/D,WAAK,GAAG,GAAG,CAAC;KACb,CAAC,CAAC;AACH,YAAQ,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AACvC,QAAI,EAAE,CAAC;GACR,CAAC,CAAC;CACJ;AACD,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC","file":"permissionsQuery-test-compiled.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _should = require('should');\n\nvar _should2 = _interopRequireDefault(_should);\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _pluginPermissionsQuery = require('../../plugin/permissionsQuery');\n\nvar _pluginPermissionsQuery2 = _interopRequireDefault(_pluginPermissionsQuery);\n\nexports['default'] = {\n  permissionsQueryPluginTest: permissionsQueryPluginTest,\n  permissionsQueryTest: permissionsQueryTest\n};\n\nfunction permissionsQueryPluginTest(options) {\n  var model = options.model;\n  it('should has static method permissionsQuery', function (done) {\n    model.permissionsQuery.should.exists;\n    done();\n  });\n}\n\nfunction permissionsQueryTest(options) {\n  var Model = options.model;\n  var permissionsOptions = {\n    filter: {},\n    fields: ['*']\n  };\n  var query = Model.find();\n  // generate a full access permissionsOption base on schema\n  it('should not have error', function (done) {\n    var error = null;\n    Model.permissionsQuery(query, permissionsOptions, function (err) {\n      error = err;\n    });\n    _should2['default'].equal(error, null);\n    done();\n  });\n}\nmodule.exports = exports['default'];"]}